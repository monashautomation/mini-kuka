<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OUTREACH MINI ROBOT ARMS</title>
    <style>
        body {
            font-family: 'Roboto Mono', 'Courier New', monospace;
            background: #23a8ff;
            margin: 0;
            padding: 0;
            color: #222;
            overflow-x: hidden;
        }
        .header-bar {
            background: #fff;
            height: 70px;
            display: flex;
            align-items: center;
            padding: 0 30px;
            border-bottom: 2px solid #fff;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        }
        .header-bar h1 {
            margin: 0;
            color: #222;
            font-size: 32px;
            font-weight: 700;
            letter-spacing: 2px;
        }
        .main-container {
            display: flex;
            flex-direction: row;
            height: calc(100vh - 70px);
        }
        .left-panel {
            flex: 1.2;
            background: #23a8ff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        .robot-img-container {
            position: relative;
            width: 90%;
            max-width: 600px;
            margin: 0 auto;
        }
        .robot-img-container img {
            width: 100%;
            height: auto;
            display: block;
        }
        .joint-marker {
            position: absolute;
            background: rgba(255,255,255,0.95);
            color: #23a8ff;
            border: 2px solid #23a8ff;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: background 0.2s, transform 0.2s;
        }
        .joint-marker:hover {
            background: #b3e6ff;
            transform: scale(1.1);
        }
        .right-panel {
            flex: 1;
            background: #23a8ff;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            padding: 40px 30px 40px 0;
        }
        .joint-control {
            margin-bottom: 30px;
            width: 100%;
        }
        .joint-label {
            color: #fff;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 6px;
        }
        .joint-slider {
            width: 100%;
            margin-bottom: 8px;
        }
        .joint-slider input[type="range"] {
            width: 100%;
            accent-color: #fff;
            background: #fff;
            border-radius: 2px;
            height: 6px;
        }
        .joint-value {
            color: #fff;
            font-size: 15px;
            font-weight: 700;
            margin-left: 10px;
        }
        .btn {
            background: #fff;
            color: #23a8ff;
            border: none;
            padding: 10px 24px;
            border-radius: 24px;
            font-family: inherit;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            margin-top: 18px;
            margin-right: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: background 0.2s, color 0.2s;
        }
        .btn:disabled {
            background: #b3e6ff;
            color: #fff;
            cursor: not-allowed;
        }
        .btn-secondary {
            background: #b3e6ff;
            color: #23a8ff;
        }
        .system-state {
            background: #fff;
            color: #23a8ff;
            border-radius: 12px;
            padding: 18px 22px;
            margin-top: 30px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        @media (max-width: 900px) {
            .main-container {
                flex-direction: column;
            }
            .right-panel {
                padding: 30px 10px 30px 10px;
                align-items: center;
            }
            .left-panel {
                padding: 20px 0;
            }
        }
    </style>
</head>
<body>
    <div class="header-bar">
        <h1>OUTREACH MINI ROBOT ARMS</h1>
    </div>
    <div class="main-container">
        <div class="left-panel">
            <div class="robot-img-container">
                <img src="kuka_image.png" alt="KUKA Arm">
                <!-- Joint markers for 5 joints (positions are illustrative, adjust as needed) -->
                <div class="joint-marker" style="top: 8%; left: 60%;" onclick="focusServoInput(1)"></div>
                <div class="joint-marker" style="top: 22%; left: 80%;" onclick="focusServoInput(2)"></div>
                <div class="joint-marker" style="top: 60%; left: 38%;" onclick="focusServoInput(3)"></div>
                <div class="joint-marker" style="top: 15%; left: 30%;" onclick="focusServoInput(4)"></div>
                <div class="joint-marker" style="top: 55%; left: 75%;" onclick="focusServoInput(5)"></div>
            </div>
        </div>
        <div class="right-panel">
            <div id="jointControls">
                <!-- Joint controls will be rendered here by JS -->
            </div>
            <button id="sendBtn" class="btn" disabled>EXECUTE POSITION</button>
            <button class="btn btn-secondary" onclick="resetAllServos()">RESET ARM</button>
            <div class="system-state" id="currentState">
                // System Status: Standby<br>
                // Joint Positions: [90°, 90°, 90°, 90°, 90°]<br>
                // Last Command: None<br>
                // Connection: Offline
            </div>
        </div>
    </div>
    <script src="kuka_control.js"></script>
    <script>
    // UI rendering for new look, backend logic in kuka_control.js
    document.addEventListener('DOMContentLoaded', function() {
        // Number of joints (update if needed)
        const numJoints = 5;
        const jointNames = ['Base', 'Joint 1', 'Joint 2', 'Joint 3', 'Gripper'];
        const jointControls = document.getElementById('jointControls');
        jointControls.innerHTML = '';
        for (let i = 1; i <= numJoints; i++) {
            const control = document.createElement('div');
            control.className = 'joint-control';
            control.innerHTML = `
                <div class="joint-label">${jointNames[i-1]}</div>
                <div class="joint-slider">
                    <input type="range" id="slider${i}" min="0" max="180" value="90">
                    <span class="joint-value" id="value${i}">90°</span>
                </div>
            `;
            jointControls.appendChild(control);
        }
        // Patch for backend compatibility: create hidden number inputs for kuka_control.js
        for (let i = 1; i <= numJoints; i++) {
            const input = document.createElement('input');
            input.type = 'number';
            input.id = `input${i}`;
            input.value = 90;
            input.min = 0;
            input.max = 180;
            input.style.display = 'none';
            document.body.appendChild(input);
        }
    });
    </script>
</body>
</html>
